<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Wicket, Tomcat, Debian: Sometimes a little security goes way too far &#8211; GoldSounds</title>
<meta name="description" content="The home of Dan Walmsley on the web">
<meta name="keywords" content="apache wicket tomcat maven debian deployment provisioni">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/site-logo.png">
<meta name="twitter:title" content="Wicket, Tomcat, Debian: Sometimes a little security goes way too far">
<meta name="twitter:description" content="The home of Dan Walmsley on the web">
<meta name="twitter:creator" content="@danwalmsley">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Wicket, Tomcat, Debian: Sometimes a little security goes way too far">
<meta property="og:description" content="The home of Dan Walmsley on the web">
<meta property="og:url" content="/programming/wicket-tomcat-debian-sometimes-a-little-security-goes-way-too-far">
<meta property="og:site_name" content="GoldSounds">

<meta name="google-site-verification" content="ctYPFVgrQdPlw-LQPjdbWiJ6JS1pxMR10J4JDhpPSxY">
<meta name="msvalidate.01" content="1695C38AA5D481B038F510859A4C6BDB">


<link rel="canonical" href="/programming/wicket-tomcat-debian-sometimes-a-little-security-goes-way-too-far">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="GoldSounds Feed">
<link rel="author" href="https://plus.google.com/108218105264306951840?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="/assets/js/vendor/jquery.githubRepoWidget.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop" itemscope itemtype="http://schema.org/SiteNavigationElement">
	    <ul>
	        
			<li>
				
					<a href="/">Home</a>
				 
			</li>
	        
			<li>
				
					<a href="/about">About</a>
				 
			</li>
	        
			<li>
				
					<a href="/blog">Blog</a>
				 
			</li>
	        
			<li>
				
					<a href="/songs">Songs</a>
				 
			</li>
	        
			<li>
				
					<a href="/art">Art</a>
				 
			</li>
	        
			<li>
				
					<a href="/code">Code</a>
				 
			</li>
	        
	        <li><a href="/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a>
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead" itemscope itemtype="http://schema.org/Organization">
	<div class="wrap">
		<a href="" class="site-logo" rel="home" title="GoldSounds" itemprop="url"><img src="/images/site-logo.png" width="200" height="200" alt="GoldSounds logo" class="animated fadeInUp" itemprop="logo"></a>
		<h1 class="site-title animated fadeIn"><a href="">GoldSounds</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">The home of Dan Walmsley on the web</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <article class="hentry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="/tags.html#apache wicket tomcat maven debian deployment provisioni" title="Pages tagged apache wicket tomcat maven debian deployment provisioni" rel="tag">apache wicket tomcat maven debian deployment provisioni</a></span>
        
          <h1 class="entry-title" itemprop="headline">Wicket, Tomcat, Debian: Sometimes a little security goes way too far</h1>
        
      </header>
      <footer class="entry-meta">
        <img src="/images/avatar.jpg" alt="Dan Walmsley photo" class="author-photo">
        <span class="author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">By <span itemprop="name" class="fn"><a href="/about" title="About Dan Walmsley" itemprop="url">Dan Walmsley</a></span></span>
        <span class="entry-date date published"><time datetime="2008-01-20T17:40:51-08:00" itemprop="datePublished"><i class="icon-calendar-empty"></i> January 20, 2008</time></span>
        
        

        <span><a href="/programming/wicket-tomcat-debian-sometimes-a-little-security-goes-way-too-far" rel="bookmark" title="Wicket, Tomcat, Debian: Sometimes a little security goes way too far" itemprop="url"><i class="icon-link"></i> Permalink</a></span>
      </footer>
      <div class="entry-content" itemprop="description">
        <p>Was up until 3am last night banging my head against another frustrating go-nowhere issue deploying Wicket on Debian Etch’s default Tomcat5.5.</p>

<p>Apparently the latest version (5.5.20-2etch1) has additional security <strike>headaches</strike> features which prevent wicket from functioning properly out-of-the-box:</p>
<ul>
	<li>First of all, there's still an (as-yet-unsolved) mystery around why I couldn't get Wicket to start up as a filter. Just the mysterious "ERROR: filterStart" which makes me want to feed Tomcat to angry lions. Worked around it by using Wicket in Servlet mode instead.</li>

	<li>Tomcat's juli.jar can't access WEB-INF/classes/logging.properties. Fixed (in sledgehammer-like way) by adding "permission java.security.AllPermission;" to /etc/tomcat5.5/policy.d/03catalina.policy, in the Juli section.</li>
	<li>Tomcat security prevents webapps from accessing all sorts of features and methods by default, including wicket.properties, methods inside shipped jars, etc. Not being a Tomcat expert, and trusting the innate security of the server and millions of lines of third party code (i.e. I'm an idiot) I again just popped a java.security.AllPermission; in appropriate spots in /etc/tomcat5.5/policy.d/04webapps.policy. Let the flames commence!</li>

</ul>

<p>If Tomcat was a little more helpful in its error messages, this would never have been so painful. Jetty has always run my Wicket apps without complaint (though I’ve never tried the official Debian Jetty packages - maybe they’re <strike>crippleware</strike> secure too?).</p>

<p>The only reason I use Tomcat at all is the remote management and deployment features, which are well-supported by Cargo. Now that these issues are out of the way (mostly) I can take another few steps towards my dream of a seamless, fire-and-forget, auto-deploying, smoke-tested, pluggable and modular web app deployment system.</p>

<p>Oh, and have I mentioned recently how much I LOVE IInitializer?</p>

<p>Bless you, Wicket. Bless you.</p>


        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/comedy/live-in-constant-irrational-fear" class="btn" title="Live in constant, irrational fear">Previous article</a>
      
      
        <a href="/general/comedy/programming/confused-narcissus" class="btn" title="Confused Narcissus">Next article</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2013 Dan Walmsley. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="http://twitter.com/danwalmsley" title="Dan Walmsley on Twitter" target="_blank"><i class="icon-twitter icon-2x"></i></a>
	<a href="http://facebook.com/dan.walmsley.exists" title="Dan Walmsley on Facebook" target="_blank"><i class="icon-facebook icon-2x"></i></a>
	<a href="https://plus.google.com/108218105264306951840" title="Dan Walmsley on Google+" target="_blank"><i class="icon-google-plus icon-2x"></i></a>
	<a href="http://linkedin.com/in/danwalmsley" title="Dan Walmsley on LinkedIn" target="_blank"><i class="icon-linkedin icon-2x"></i></a>
	
	<a href="http://instagram.com/goldsounds" title="Dan Walmsley on Instagram" target="_blank"><i class="icon-instagram icon-2x"></i></a>
	
	<a href="http://github.com/gravityrail" title="Dan Walmsley on Github" target="_blank"><i class="icon-github icon-2x"></i></a>
	
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/main.min.js"></script>



</body>
</html>
